language: generic
sudo: false
script: true # <-- @todo we can test here

# Travis docs: Note that pull request builds skip deployment step altogether.
# https://docs.travis-ci.com/user/deployment/#Conditional-Releases-with-on
deploy:
  skip_cleanup: true
  provider: script
  script: .lanyon/vendor/bin/deploy # <-- this calls 'npm run build:production && npm run deploy'. Travis does not allow commands, only files here..
  on:
    branch: master
    condition: $TRAVIS_OS_NAME = linux
